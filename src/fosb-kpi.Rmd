---
title: "FOSB KPI's"
subtitle: "Berekeningen van de  FOSB Key Performance Indicators"
author:
- Lien Reyserhove
date: "`r Sys.Date()`"
output:
  html_document:
    df_print: paged
    number_sections: true
    toc: true
    toc_depth: 3
    toc_float: true
---

Voor de Flemish Open Science Board (FOSB) moeten jaarlijks 5 Key Performance Indicators (KPIs) berekend worden die de toestand van Open Science op het INBO beschrijven:

- KPI0: ORCID
- KPI1: Datamangementplannen (DMP)
- KPI2: FAIR data
- KPI3: Open Access
- KPI4: Open Data

Meer informatie hierover is te vinden in de nota [KPIs voor Open Science in Vlaanderen](https://www.ewi-vlaanderen.be/sites/default/files/bestanden/5fc5f512b328e9000c0007f3.pdf)

Dit document beschrijft de gebruikte werkwijze om de KPI's te berekenen.

# Algemene settings

```{r setup, include = FALSE}
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)
```

Inladen libraries

```{r}
library(tidyverse)      # To do data science
library(magrittr)       # To use %<>% pipes
library(here)           # To find files
library(janitor)        # To clean input data
library(readxl)
```

# KPI0: ORCID

**Noemer**: Het aantal onderzoekers aan het (EV)INBO, actief op 1/10/2020. Het INBO beschouwt alle medewerkers die in aanmerking komen voor recuperatie van de bedrijfsvoorheffing als onderzoekers. Of een onderzoeker al dan niet gefinancierd werd met Vlaamse publieke middelen werd hier niet in rekening genomen. 

**Teller**: Aandeel in bovenstaande populatie met ORCID in PURE

Voor deze berekeningen hebben we 2 bestanden nodig:
1: Lijst met alle (EV)INBO personeelsleden die in aanmerking komen voor recuperatie van de bedrijfsvoorheffing (`recup_bvh`)
2: Lijst met alle (EV)INBO personeelsleden die een ORCID hebben aangemaakt (`orcid`).

Importeer `recup_bvh`

```{r}
recup_bvh <- read_excel(path = here::here("data", "personeelsleden_bedrijfsvermindering_20200110.xlsx"))
```


Teller = aantal rijen

```{r}
nrow(recup_bvh)
```

Importeer `orcid`

```{r}
orcid <- read_excel(path = here::here("data", "personen_met_orcid_20202304.xlsx"))
```

VOeg ORCID informatie toe aan `recup_bvh`:

```{r}
bv_orcid <-
  recup_bvh %>% left_join(orcid, by = "voornaam_naam") %>% 
    select(naam, voornaam, orcid) %>% 
    arrange(naam)
```

INBO onderzoekers (01-10-2020) met ORCID ID's:

```{r}
bv_met_orcid <- bv_met_orcid %>% filter(!is.na(orcid))
```

INBO onderzoekers (01-10-2020) zonder ORCID:

```{r}
bv_zonder_orcid <- bv_orcid %>% filter(is.na(orcid))
```


Opgelet: de lijst met personen aan het (EV)INBO werd gegenereerd op 23 april 2021. De informatie kan niet opgevraagd woorden voor een specifiek punt terug in de tijd. Personen die nu niet meer werken voor het INBO staan niet in `orcid` en moeten manueel opgevraagd worden:

Selecteer personen tewerkzaam op 01-10-2020 maar niet meer op 23-04-2021:

```{r}
recup_bvh %>% anti_join(orcid, by = "voornaam_naam")
```


ORCID informatie werd opgevraagd via de PURE (niet via ORCID website zelf, niet de focus van deze KPI)

Naam | ORCID
---  | ---
Desire Paelinckx | 0000-0002-2835-4455
Wouter Fannes |  0000-0003-0899-5869
Ivy Jansen	|
ZoÃ« De Corte | Lynn
Timo Van der Veken | NA 
Margot Verhulst	| NA
Oberon Geunens	| NA
Frieda Van Roy |	NA	
Lynn Pallemaerts	| 
Liesa Lammens | NA
Maxime Eeraerts |	0000-0003-2739-9704	
Bastiaan De Ketelaere	| NA	
Charlotte Steendam |
Tine Bommarez	| NA

**Dit levert drie extra ORCIDS op**

Berekening KPI ORCID:

```{r}
kpi_orcid <- (nrow(bv_met_orcid) + 3)/nrow(recup_bvh) *100
kpi_orcid
```


